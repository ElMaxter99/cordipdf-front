<mat-sidenav-container class="app-shell" autosize>
  <mat-sidenav mode="side" opened class="app-sidenav p-3 space-y-4">
    <div class="flex items-center gap-3">
      <mat-icon class="text-2xl">picture_as_pdf</mat-icon>
      <div>
        <p class="font-semibold leading-tight">CordiPDF</p>
        <p class="text-xs text-surface-variant">Maquetador de plantillas</p>
      </div>
    </div>

    <mat-nav-list>
      <a mat-list-item routerLink="/templates" routerLinkActive="active-link">
        <mat-icon matListItemIcon>view_list</mat-icon>
        <span matListItemTitle>Plantillas</span>
      </a>
    </mat-nav-list>

    <mat-divider></mat-divider>

    <div class="flex items-center justify-between">
      <div class="text-sm">
        <p class="font-medium">Tema</p>
        <p class="text-xs text-surface-variant">{{ theme.mode() | titlecase }}</p>
      </div>
      <button mat-icon-button matTooltip="Cambiar tema" (click)="theme.toggle()">
        <mat-icon>{{ theme.mode() === 'light' ? 'dark_mode' : 'light_mode' }}</mat-icon>
      </button>
    </div>

    <div class="rounded-lg p-3 bg-primary/5 border border-outline">
      <p class="text-xs text-surface-variant mb-2">Autenticaci√≥n de prueba</p>
      <div *ngIf="auth.user(); else guest" class="flex items-center justify-between">
        <div>
          <p class="font-medium">{{ auth.user()?.name }}</p>
          <p class="text-xs text-surface-variant">{{ auth.user()?.email }}</p>
        </div>
        <button mat-icon-button color="warn" (click)="auth.logout()">
          <mat-icon>logout</mat-icon>
        </button>
      </div>
      <ng-template #guest>
        <button mat-flat-button color="primary" class="w-full" (click)="loginDemo()">Entrar como demo</button>
      </ng-template>
    </div>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar class="app-toolbar" color="primary">
      <div class="flex items-center gap-2">
        <mat-icon>edit_document</mat-icon>
        <span class="font-semibold">Gestor de Plantillas PDF</span>
      </div>
      <span class="flex-1"></span>
      <a mat-icon-button matTooltip="Ir a plantillas" routerLink="/templates"><mat-icon>home</mat-icon></a>
      <button mat-icon-button matTooltip="Cambiar tema" (click)="theme.toggle()">
        <mat-icon>{{ theme.mode() === 'light' ? 'dark_mode' : 'light_mode' }}</mat-icon>
      </button>
    </mat-toolbar>

    <main class="app-main">
      <router-outlet></router-outlet>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
