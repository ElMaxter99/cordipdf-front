<mat-card class="properties" *ngIf="field; else placeholder">
  <div class="flex items-center justify-between mb-3">
    <div>
      <div class="text-sm text-gray-500">Campo</div>
      <div class="font-semibold">{{ field?.mapField }}</div>
    </div>
    <mat-slide-toggle [checked]="field?.locked" (change)="update({ locked: $event.checked ?? false })">
      Bloquear
    </mat-slide-toggle>
  </div>
  <div class="grid grid-cols-2 gap-3">
    <mat-form-field appearance="outline">
      <mat-label>Nombre</mat-label>
      <input matInput [value]="field?.mapField" (input)="update({ mapField: $any($event.target).value })" />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Fuente</mat-label>
      <mat-select [value]="field?.fontFamily" (selectionChange)="update({ fontFamily: $event.value })">
        <mat-option *ngFor="let font of fonts" [value]="font">{{ font }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Tamaño de fuente</mat-label>
      <input matInput type="number" [value]="field?.fontSize" (input)="update({ fontSize: +$any($event.target).value })" />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Color</mat-label>
      <input matInput type="color" [value]="field?.color" (input)="update({ color: $any($event.target).value })" />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Fondo</mat-label>
      <input
        matInput
        type="color"
        [value]="field?.backgroundColor"
        (input)="update({ backgroundColor: $any($event.target).value })"
      />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Opacidad</mat-label>
      <input matInput type="number" step="0.1" min="0" max="1" [value]="field?.opacity" (input)="update({ opacity: +$any($event.target).value })" />
    </mat-form-field>
  </div>
  <mat-slide-toggle [checked]="field?.hidden" (change)="update({ hidden: $event.checked ?? false })">
    Ocultar campo
  </mat-slide-toggle>
  <mat-slide-toggle
    class="mt-2"
    [checked]="field?.multiline"
    (change)="update({ multiline: $event.checked ?? false })"
  >
    Texto multilínea
  </mat-slide-toggle>
</mat-card>
<ng-template #placeholder>
  <mat-card class="properties placeholder">
    <p class="text-gray-500">Selecciona un campo para editar sus propiedades.</p>
  </mat-card>
</ng-template>
